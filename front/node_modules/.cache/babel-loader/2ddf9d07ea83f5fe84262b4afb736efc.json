{"remainingRequest":"/home/aarbex/Projects/dotnet/vue_project/project_school/node_modules/babel-loader/lib/index.js!/home/aarbex/Projects/dotnet/vue_project/project_school/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/aarbex/Projects/dotnet/vue_project/project_school/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aarbex/Projects/dotnet/vue_project/project_school/src/components/Aluno/Alunos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/aarbex/Projects/dotnet/vue_project/project_school/src/components/Aluno/Alunos.vue","mtime":1615855021941},{"path":"/home/aarbex/Projects/dotnet/vue_project/project_school/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/aarbex/Projects/dotnet/vue_project/project_school/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/aarbex/Projects/dotnet/vue_project/project_school/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/aarbex/Projects/dotnet/vue_project/project_school/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFRpdHVsbyBmcm9tICcuLi9UaXR1bG8vVGl0dWxvJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFRpdHVsbzogVGl0dWxvCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGl0dWxvOiAnQWx1bm8nLAogICAgICBwcm9mX2lkOiB0aGlzLiRyb3V0ZS5wYXJhbXMucHJvZl9pZCwKICAgICAgbm9tZTogJycsCiAgICAgIHByb2Zlc3Nvcjoge30sCiAgICAgIGFsdW5vczogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBpZiAodGhpcy5wcm9mX2lkKSB7CiAgICAgIHRoaXMuY2FycmVnYXJQcm9mZXNzb3IoKTsKICAgICAgdGhpcy4kaHR0cC5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvYWx1bm8vQnlQcm9mZXNzb3IvIi5jb25jYXQodGhpcy5wcm9mX2lkKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGFsdW5vcykgewogICAgICAgIHJldHVybiBfdGhpcy5hbHVub3MgPSBhbHVub3M7CiAgICAgIH0pOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy4kaHR0cC5nZXQoJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvYWx1bm8nKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZXR1cm4gcmVzLmpzb24oKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoYWx1bm9zKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmFsdW5vcyA9IGFsdW5vczsKICAgICAgfSk7CiAgICB9CiAgfSwKICBwcm9wczoge30sCiAgbWV0aG9kczogewogICAgYWRkQWx1bm86IGZ1bmN0aW9uIGFkZEFsdW5vKCkgewogICAgICB2YXIgX2FsdW5vID0gewogICAgICAgIG5vbWU6IHRoaXMubm9tZSwKICAgICAgICBzb2JyZW5vbWU6ICcnLAogICAgICAgIGR0X25hc2M6ICcnLAogICAgICAgIHByb2Zlc3NvcmlkOiB0aGlzLnByb2Zlc3Nvci5pZAogICAgICB9OwogICAgICB0aGlzLiRodHRwLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvYWx1bm8nLCBfYWx1bm8pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJldHVybiByZXMuanNvbigpOwogICAgICB9KTsKICAgICAgdGhpcy5ub21lID0gJyc7CiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgfSwKICAgIGNhcnJlZ2FyUHJvZmVzc29yOiBmdW5jdGlvbiBjYXJyZWdhclByb2Zlc3NvcigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLiRodHRwLmdldCgiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS9wcm9mZXNzb3IvIi5jb25jYXQodGhpcy5wcm9mX2lkKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHByb2Zlc3NvcikgewogICAgICAgIHJldHVybiBfdGhpczIucHJvZmVzc29yID0gcHJvZmVzc29yOwogICAgICB9KTsKICAgIH0sCiAgICByZW1vdmVyQWx1bm86IGZ1bmN0aW9uIHJlbW92ZXJBbHVubyhhbHVubykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuJGh0dHAuZGVsZXRlKCJodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL2FsdW5vLyIuY29uY2F0KGFsdW5vLmlkKSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGluZGljZSA9IF90aGlzMy5hbHVub3MuaW5kZXhPZihhbHVubyk7CgogICAgICAgIF90aGlzMy5hbHVub3Muc3BsaWNlKGluZGljZSwgMSk7CiAgICAgIH0pOyAvL3RoaXMuYWx1bm9zLnNwbGljZShpbmRpY2UsIDEpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Alunos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,OAAA,MAAA,MAAA,kBAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,MAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA,OAFA;AAGA,MAAA,IAAA,EAAA,EAHA;AAIA,MAAA,SAAA,EAAA,EAJA;AAKA,MAAA,MAAA,EAAA;AALA,KAAA;AAOA,GAZA;AAaA,EAAA,OAbA,qBAaA;AAAA;;AACA,QAAA,KAAA,OAAA,EAAA;AACA,WAAA,iBAAA;AACA,WAAA,KAAA,CACA,GADA,uDACA,KAAA,OADA,GAEA,IAFA,CAEA,UAAA,GAAA;AAAA,eAAA,GAAA,CAAA,IAAA,EAAA;AAAA,OAFA,EAGA,IAHA,CAGA,UAAA,MAAA;AAAA,eAAA,KAAA,CAAA,MAAA,GAAA,MAAA;AAAA,OAHA;AAIA,KANA,MAMA;AACA,WAAA,KAAA,CACA,GADA,CACA,iCADA,EAEA,IAFA,CAEA,UAAA,GAAA;AAAA,eAAA,GAAA,CAAA,IAAA,EAAA;AAAA,OAFA,EAGA,IAHA,CAGA,UAAA,MAAA;AAAA,eAAA,KAAA,CAAA,MAAA,GAAA,MAAA;AAAA,OAHA;AAIA;AACA,GA1BA;AA2BA,EAAA,KAAA,EAAA,EA3BA;AA6BA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,UAAA,MAAA,GAAA;AACA,QAAA,IAAA,EAAA,KAAA,IADA;AAEA,QAAA,SAAA,EAAA,EAFA;AAGA,QAAA,OAAA,EAAA,EAHA;AAIA,QAAA,WAAA,EAAA,KAAA,SAAA,CAAA;AAJA,OAAA;AAOA,WAAA,KAAA,CACA,IADA,CACA,iCADA,EACA,MADA,EAEA,IAFA,CAEA,UAAA,GAAA;AAAA,eAAA,GAAA,CAAA,IAAA,EAAA;AAAA,OAFA;AAGA,WAAA,IAAA,GAAA,EAAA;AACA,MAAA,QAAA,CAAA,MAAA;AACA,KAdA;AAgBA,IAAA,iBAhBA,+BAgBA;AAAA;;AACA,WAAA,KAAA,CACA,GADA,+CACA,KAAA,OADA,GAEA,IAFA,CAEA,UAAA,GAAA;AAAA,eAAA,GAAA,CAAA,IAAA,EAAA;AAAA,OAFA,EAGA,IAHA,CAGA,UAAA,SAAA;AAAA,eAAA,MAAA,CAAA,SAAA,GAAA,SAAA;AAAA,OAHA;AAIA,KArBA;AAuBA,IAAA,YAvBA,wBAuBA,KAvBA,EAuBA;AAAA;;AACA,WAAA,KAAA,CACA,MADA,2CACA,KAAA,CAAA,EADA,GAEA,IAFA,CAEA,YAAA;AACA,YAAA,MAAA,GAAA,MAAA,CAAA,MAAA,CAAA,OAAA,CAAA,KAAA,CAAA;;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,MAAA,EAAA,CAAA;AACA,OALA,EADA,CASA;AACA;AAjCA;AA7BA,CAAA","sourcesContent":["<template>\n  <div>\n    \n    <titulo :texto=\" prof_id != undefined ? 'Alunos do professor ' + professor.nome : 'Todos os Alunos'\" btnVoltar=\"\"/>\n    \n    <div v-show=\"prof_id\">\n      <input \n        type=\"text\" \n        placeholder=\"Nome do Aluno\"\n        v-model=\"nome\"\n        @keyup.enter=\"addAluno()\">\n        <button class=\"btn btn_input\" @click=\"addAluno()\">Adicionar</button>\n    </div>\n\n    <table>\n      <thead>\n        <th>Matr.</th>\n        <th>Nome</th>\n        <th>Opções</th>\n      </thead>\n      <tbody v-if=\"alunos.length\">\n        <tr v-for=\"aluno in alunos\" :key=\"aluno.id\">\n          <td class=\"colPequeno\">{{aluno.id}}</td>\n          <router-link \n          :to=\"`/aluno/${aluno.id}`\"\n          tag=\"td\"\n          style=\"cursor: pointer\">\n            {{aluno.nome}} {{aluno.sobrenome}}\n          </router-link>\n          <td class=\"colPequeno\"> \n            <button class=\"btn btn_danger\" @click=\"removerAluno(aluno)\">Remover</button>\n          </td>\n        </tr>\n      </tbody>\n      <tfoot v-else>\n        <tr>\n          <td colspan=\"3\" style=\"text-align: center\"><h5>Nenhum aluno encontrado!</h5></td>\n        </tr>\n      </tfoot>\n    </table>\n\n  </div>\n</template>\n\n<script>\nimport Titulo from '../Titulo/Titulo'\nexport default {\n  components: {\n    Titulo\n  },\n  data(){\n    return {\n      titulo: 'Aluno',\n      prof_id: this.$route.params.prof_id,\n      nome: '',\n      professor: {},\n      alunos: []\n    }\n  },\n  created(){\n    if(this.prof_id){\n      this.carregarProfessor();\n      this.$http\n      .get(`http://localhost:5000/api/aluno/ByProfessor/${this.prof_id}`)\n      .then(res => res.json())\n      .then(alunos => this.alunos = alunos)\n    } else {\n      this.$http\n      .get('http://localhost:5000/api/aluno')\n      .then(res => res.json())\n      .then(alunos => this.alunos = alunos)\n    }   \n  },\n  props: {\n  },\n  methods: {\n    addAluno() {\n      let _aluno = {\n        nome: this.nome,\n        sobrenome: '',\n        dt_nasc: '',\n        professorid: this.professor.id\n      };\n\n    this.$http\n      .post('http://localhost:5000/api/aluno', _aluno)\n      .then(res => res.json())\n      this.nome = '';\n      location.reload()\n    },\n\n    carregarProfessor(){\n       this.$http\n        .get(`http://localhost:5000/api/professor/${this.prof_id}`)\n        .then(res => res.json())\n        .then(professor => this.professor = professor)\n    },\n\n    removerAluno(aluno){\n      this.$http\n            .delete(`http://localhost:5000/api/aluno/${aluno.id}`)\n            .then(() => {\n              let indice = this.alunos.indexOf(aluno);\n              this.alunos.splice(indice, 1);\n            })\n\n      \n      //this.alunos.splice(indice, 1);\n    }\n  },\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n  input{\n    width: calc(100% - 190px);\n    border: 0;\n    padding: 20px;\n    font-size: 1.3em;\n    color: #687f7f;\n    display: inline;\n  }\n  .btn_input{\n    width: 150px;\n    border: 0px;\n    padding: 20px;\n    font-size: 1.3em;\n    background-color: rgb(116, 115, 115);\n    display: inline;\n  }\n\n  .btn_input:hover{\n    padding: 20px;\n    margin: 0px;\n    border: 0px;\n  }\n</style>\n"],"sourceRoot":"src/components/Aluno"}]}