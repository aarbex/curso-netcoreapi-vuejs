{"remainingRequest":"/home/aarbex/Projects/dotnet/vue_project/project_school/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aarbex/Projects/dotnet/vue_project/project_school/src/components/Aluno/AlunoDetalhe.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/aarbex/Projects/dotnet/vue_project/project_school/src/components/Aluno/AlunoDetalhe.vue","mtime":1615854123737},{"path":"/home/aarbex/Projects/dotnet/vue_project/project_school/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/aarbex/Projects/dotnet/vue_project/project_school/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/aarbex/Projects/dotnet/vue_project/project_school/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/aarbex/Projects/dotnet/vue_project/project_school/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUaXR1bG8gZnJvbSAnLi4vVGl0dWxvL1RpdHVsbycKICAgIGV4cG9ydCBkZWZhdWx0IHsKICAgICAgICBjb21wb25lbnRzOiB7CiAgICAgICAgICAgIFRpdHVsbwogICAgICAgIH0sCiAgICAgICAgZGF0YSgpewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcHJvZmVzc29yZXM6IFtdLAogICAgICAgICAgICAgICAgYWx1bm86IHt9LAogICAgICAgICAgICAgICAgaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICAgICAgICAgIHZpZXc6IHRydWUsCiAgICAgICAgICAgICAgICBsb2FkaW5nOiB0cnVlCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNyZWF0ZWQoKXsKICAgICAgICAgICAgdGhpcy5jYXJyZWdhclByb2Zlc3NvcigpOwogICAgICAgIH0sCiAgICAgICAgbWV0aG9kczogewogICAgICAgICAgICBjYXJyZWdhclByb2Zlc3NvcigpewogICAgICAgICAgICAgICAgdGhpcy4kaHR0cAogICAgICAgICAgICAgICAgLmdldCgiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS9wcm9mZXNzb3IiKQogICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSkKICAgICAgICAgICAgICAgIC50aGVuKHByb2Zlc3NvcmVzID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2Zlc3NvcmVzID0gcHJvZmVzc29yZXM7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYXJyZWdhckFsdW5vKCk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNhcnJlZ2FyQWx1bm8oKXsKICAgICAgICAgICAgICAgICB0aGlzLiRodHRwCiAgICAgICAgICAgICAgICAuZ2V0KGBodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL2FsdW5vLyR7dGhpcy5pZH1gKQogICAgICAgICAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpCiAgICAgICAgICAgICAgICAudGhlbihhbHVubyA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbHVubyA9IGFsdW5vOwogICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LAogICAgICAgICAgICBlZGl0YXIoKXsKICAgICAgICAgICAgICAgIHRoaXMudmlldyA9ICF0aGlzLnZpZXc7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNhbmNlbGFyKCl7CiAgICAgICAgICAgICAgICAgdGhpcy52aWV3ID0gIXRoaXMudmlldzsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2FsdmFyKCl7CiAgICAgICAgICAgICAgICBsZXQgX2FsdW5vRWRpdGFyID17CiAgICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMuYWx1bm8uaWQsCiAgICAgICAgICAgICAgICAgICAgbm9tZTogdGhpcy5hbHVuby5ub21lLAogICAgICAgICAgICAgICAgICAgIHNvYnJlbm9tZTogdGhpcy5hbHVuby5zb2JyZW5vbWUsCiAgICAgICAgICAgICAgICAgICAgZHRfbmFzYzogdGhpcy5hbHVuby5kdF9uYXNjLAogICAgICAgICAgICAgICAgICAgIHByb2Zlc3NvcmlkOiB0aGlzLmFsdW5vLnByb2Zlc3Nvci5pZAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGhpcy4kaHR0cAogICAgICAgICAgICAgICAgLnB1dChgaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS9hbHVuby8ke19hbHVub0VkaXRhci5pZH1gLCBfYWx1bm9FZGl0YXIpCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gcmVzLmpzb24oKSkKICAgICAgICAgICAgICAgIC50aGVuKGFsdW5vID0+IHRoaXMuYWx1bm8gPSBhbHVubykKICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHRoaXMudmlldyA9IHRydWUpOwoKICAgICAgICAgICAgICAgIHRoaXMudmlldyA9ICF0aGlzLnZpZXc7CgoKICAgICAgICAgICAgfQoKCiAgICAgICAgfQogICAgfQo="},{"version":3,"sources":["AlunoDetalhe.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;;AAGA;AACA","file":"AlunoDetalhe.vue","sourceRoot":"src/components/Aluno","sourcesContent":["<template>\n  <div v-if=\"!loading\">\n    <Titulo\n      :texto=\"`Aluno: ${aluno.nome} ${aluno.sobrenome}`\"\n      :btnVoltar=\"!view\"\n    >\n      <button v-show=\"view\" class=\"btn btnEditar\" @click=\"editar()\">\n        Editar\n      </button>\n    </Titulo>\n\n    <table>\n      <tbody>\n        <tr>\n          <td class=\"colPequeno\">Matricula</td>\n          <td>\n            <label>{{ aluno.id }}</label>\n          </td>\n        </tr>\n        <tr>\n          <td class=\"colPequeno\">Nome</td>\n          <td>\n            <label v-if=\"view\">{{ aluno.nome }}</label>\n            <input v-else type=\"text\" v-model=\"aluno.nome\" />\n          </td>\n        </tr>\n        <tr>\n          <td class=\"colPequeno\">Sobrenome</td>\n          <td>\n            <label v-if=\"view\">{{ aluno.sobrenome }}</label>\n            <input v-else type=\"text\" v-model=\"aluno.sobrenome\" />\n          </td>\n        </tr>\n        <tr>\n          <td class=\"colPequeno\">Data Nasc.</td>\n          <td>\n            <label v-if=\"view\">{{ aluno.dt_nasc }}</label>\n            <input v-else type=\"text\" v-model=\"aluno.dt_nasc\" />\n          </td>\n        </tr>\n        <tr>\n          <td class=\"colPequeno\">Professor</td>\n          <td>\n            <label v-if=\"view\">{{ aluno.professor.nome }}</label>\n            <select v-else v-model=\"aluno.professor.id\">\n              <option\n                v-for=\"(professor, index) in professores\"\n                :key=\"index\"\n                v-bind:value=\"professor.id\"\n                >{{ professor.nome }}</option\n              >\n            </select>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <div style=\"margin-top: 10px\">\n      <div v-if=\"!view\">\n        <button class=\"btn btnSalvar\" @click=\"salvar()\">Salvar</button>\n        <button class=\"btn btnCancelar\" @click=\"cancelar()\">Cancelar</button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Titulo from '../Titulo/Titulo'\n    export default {\n        components: {\n            Titulo\n        },\n        data(){\n            return {\n                professores: [],\n                aluno: {},\n                id: this.$route.params.id,\n                view: true,\n                loading: true\n            }\n        },\n        created(){\n            this.carregarProfessor();\n        },\n        methods: {\n            carregarProfessor(){\n                this.$http\n                .get(\"http://localhost:5000/api/professor\")\n                .then((res) => res.json())\n                .then(professores => {\n                    this.professores = professores;\n                    this.carregarAluno();\n            });\n                \n            },\n            carregarAluno(){\n                 this.$http\n                .get(`http://localhost:5000/api/aluno/${this.id}`)\n                .then(res => res.json())\n                .then(aluno => {\n                    this.aluno = aluno;\n                    this.loading = false;\n                    });\n            },\n            editar(){\n                this.view = !this.view;\n            },\n            cancelar(){\n                 this.view = !this.view;\n            },\n            salvar(){\n                let _alunoEditar ={\n                    id: this.aluno.id,\n                    nome: this.aluno.nome,\n                    sobrenome: this.aluno.sobrenome,\n                    dt_nasc: this.aluno.dt_nasc,\n                    professorid: this.aluno.professor.id\n                }\n                this.$http\n                .put(`http://localhost:5000/api/aluno/${_alunoEditar.id}`, _alunoEditar)\n                .then(res => res.json())\n                .then(aluno => this.aluno = aluno)\n                .then(() => this.view = true);\n\n                this.view = !this.view;\n\n\n            }\n\n\n        }\n    }\n</script>\n\n<style scoped>\n.btnEditar {\n  float: right;\n  background-color: rgb(76, 186, 249);\n}\n.btnSalvar {\n  float: right;\n  background-color: rgb(79, 196, 68);\n}\n.btnCancelar {\n  float: left;\n  background-color: rgb(249, 186, 92);\n}\n.colPequeno {\n  width: 20%;\n}\ninput,\nselect {\n  margin: 0;\n  padding: 5px 10px;\n  font-size: 0.9em;\n  border: 1px solid silver;\n  border-radius: 5px;\n  font-family: Montserrat;\n  background-color: rgb(245, 245, 245);\n  width: 95%;\n}\nselect {\n  height: 38px;\n  width: 100%;\n}\n</style>\n"]}]}